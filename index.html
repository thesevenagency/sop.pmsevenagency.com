<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The 7.agency | SOP Portal</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>7️⃣</text></svg>">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7faff; /* A slightly bluer gray */
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        .section-title {
            position: relative;
            padding-bottom: 0.75rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #e2e8f0;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 50px;
            height: 3px;
            background-color: #4f46e5;
        }
        .sidebar-link.active {
            background-color: #eef2ff;
            color: #4338ca;
            font-weight: 600;
        }
        .page {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        /* Mobile sidebar transition */
        #sidebar {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="flex h-screen bg-gray-100">
        <!-- Sidebar -->
        <aside id="sidebar" class="fixed inset-y-0 left-0 bg-white w-64 p-4 transform -translate-x-full md:relative md:translate-x-0 z-50 shadow-lg flex flex-col">
            <!-- Logo and Close Button -->
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center">
                    <img src="https://placehold.co/40x40/6366f1/ffffff?text=7A" alt="7.agency Logo" class="h-8 w-8 mr-2 rounded-md">
                    <span class="font-bold text-lg" data-lang-key="nav.title">7.agency SOP</span>
                </div>
                <button id="close-sidebar-btn" class="md:hidden text-gray-500 hover:text-gray-800">
                     <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>

            <!-- Search Bar -->
            <div class="relative mb-4">
                <input type="text" id="search-bar" placeholder="Search..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                <svg class="absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
            </div>

            <!-- Navigation Links -->
            <nav id="sidebar-nav" class="flex-grow overflow-y-auto -mr-2 pr-2">
                <!-- Links will be injected by JS -->
            </nav>
            
            <!-- Language Switcher -->
            <div class="mt-auto pt-4 border-t border-gray-200">
                 <button id="lang-switcher" class="w-full bg-slate-100 hover:bg-slate-200 text-slate-600 font-semibold py-2 px-4 rounded-md text-sm transition duration-150 ease-in-out flex items-center justify-center">
                    <img id="flag-en" src="https://placehold.co/20x15/f0f0f0/000?text=EN" alt="English Flag" class="h-4 w-auto mr-2 rounded-sm">
                    <img id="flag-id" src="https://placehold.co/20x15/f0f0f0/000?text=ID" alt="Indonesian Flag" class="h-4 w-auto mr-2 rounded-sm hidden">
                    <span id="lang-text" data-lang-key="nav.langToggle">English / Bahasa</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top bar for mobile -->
            <header class="md:hidden bg-white shadow-md p-4 flex justify-between items-center">
                 <div class="flex items-center">
                    <img src="https://placehold.co/40x40/6366f1/ffffff?text=7A" alt="7.agency Logo" class="h-8 w-8 mr-2 rounded-md">
                    <span class="font-bold text-lg" data-lang-key="nav.title">7.agency SOP</span>
                </div>
                <button id="open-sidebar-btn" class="text-gray-500 hover:text-gray-800">
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                </button>
            </header>
            
            <main id="main-content" class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-4 sm:p-6 lg:p-8">
                <!-- Content will be injected here -->
            </main>
        </div>
    </div>

    <!-- Mobile Overlay -->
    <div id="mobile-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden"></div>

    <!-- Templates for Pages -->
    <template id="template-home">
        <div class="page">
            <h1 class="text-3xl font-extrabold text-slate-800 mb-6 uppercase tracking-wide" data-lang-key="home.title">Knowledge Center</h1>
            <div id="home-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Cards will be injected by JS -->
            </div>
        </div>
    </template>
    
    <template id="template-content-page">
        <div class="page bg-white p-6 sm:p-8 rounded-lg shadow-sm max-w-4xl mx-auto">
             <h1 id="content-title" class="text-3xl font-extrabold text-slate-800 mb-6 uppercase tracking-wide"></h1>
             <div id="content-body" class="prose prose-indigo max-w-none"></div>
        </div>
    </template>
    
    <template id="template-login">
        <div class="page max-w-md mx-auto mt-10">
            <div class="bg-white p-8 rounded-lg shadow-md">
                <h1 class="text-2xl font-bold text-center text-slate-800 mb-6" data-lang-key="login.title">Team Hub Login</h1>
                <form id="login-form">
                    <div class="mb-4">
                        <label for="password" class="block text-sm font-medium text-slate-700" data-lang-key="login.passwordLabel">Password</label>
                        <input type="password" id="password" name="password" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm">
                    </div>
                    <p id="login-error" class="text-red-500 text-sm mb-4 hidden" data-lang-key="login.error">Invalid password. Please try again.</p>
                    <div>
                        <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out" data-lang-key="login.button">
                            Login
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </template>

<script>
// --- TRANSLATION & CONTENT DATA ---
const contentData = {
    en: {
        nav: {
            title: "7.agency SOP",
            langToggle: "English / Bahasa",
            home: "Home",
            corePrinciples: "Core Principles",
            vendorPortal: "Vendor Portal",
            teamHub: "Team Hub",
            salesSOP: "SOP: Sales Managers",
            financeSOP: "SOP: Finance",
            pmSOP: "SOP: Project Managers",
            photo: "Photography",
            video: "Videography",
            decor: "Decor & Furniture",
            catering: "Catering & Bar",
            entertainment: "Entertainment",
            makeup: "Make-up & Hair",
            transport: "Transportation",
        },
        home: {
            title: "Knowledge Center",
            cards: {
                core: { title: "Core Principles", desc: "The foundation of our work. Mandatory for all team members and vendors.", page: "core-principles" },
                vendors: { title: "Vendor Portal", desc: "Service-specific quality standards and procedures for our partners.", page: "vendor-portal" },
                team: { title: "Team Hub", desc: "Internal operational manuals and detailed workflows for the 7.agency team.", page: "team-hub" },
            }
        },
        login: {
            title: "Team Hub Login",
            passwordLabel: "Password",
            error: "Invalid password. Please try again.",
            button: "Login"
        },
        pages: {
            "core-principles": {
                title: "Part 1: The Core Principles Handbook",
                content: `
                    <p class="text-sm text-slate-500 mb-6">Version 1.0 | Last Updated: 1 July 2025</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                            <h2 class="text-xl font-bold text-slate-800 mb-3 uppercase">1. The Client Promise</h2>
                            <p>Everything we do is centered around creating a perfect, seamless, and unforgettable wedding day for our clients. The Project Manager (PM) is the lead coordinator, responsible for every detail and for solving any issue that may arise. Our collective goal is to work together as a single, coordinated team to flawlessly execute the client's vision.</p>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                            <h2 class="text-xl font-bold text-slate-800 mb-3 uppercase">3. On-Site Challenges</h2>
                            <p class="mb-2">Non-standard situations can occur. When they do, we respond with calm professionalism.</p><ul class="list-disc list-outside ml-5 mt-2 space-y-1"><li><strong>Your First Responsibility:</strong> Your primary contact for any problem, question, or deviation from the plan is the <strong>Project Manager (PM)</strong>.</li><li><strong>Communicate Immediately:</strong> Do not wait for a problem to escalate. Inform the PM as soon as you become aware of an issue.</li></ul>
                        </div>
                        <div class="md:col-span-2 bg-slate-50 p-6 rounded-lg border border-slate-200">
                            <h2 class="text-xl font-bold text-slate-800 mb-3 uppercase">2. Universal Code of Conduct</h2>
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
                                <div><h3 class="font-semibold">Appearance & Hygiene</h3><ul class="list-disc list-outside ml-5 mt-2 space-y-1 text-sm"><li>Be Presentable & Clean</li><li>Appropriate Attire</li><li>Clean Footwear</li></ul></div>
                                <div><h3 class="font-semibold">Attitude</h3><ul class="list-disc list-outside ml-5 mt-2 space-y-1 text-sm"><li>Client-Focused</li><li>Solution-Oriented</li><li>Team Player</li></ul></div>
                                <div><h3 class="font-semibold">Etiquette</h3><ul class="list-disc list-outside ml-5 mt-2 space-y-1 text-sm"><li>Respect Venue & Privacy</li><li>Discreet Conduct</li><li>Punctual</li></ul></div>
                            </div>
                        </div>
                        <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                            <h2 class="text-xl font-bold text-slate-800 mb-3 uppercase">4. Our Commitment</h2>
                             <p class="mb-2">These principles are the foundation of our reputation. They are not optional.</p><ul class="list-disc list-outside ml-5 mt-2 space-y-1"><li><strong>Accountability:</strong> Every team member and vendor partner is held accountable for upholding these standards.</li><li><strong>Consequences:</strong> Failure to adhere to this Code of Conduct may result in penalties.</li></ul>
                        </div>
                    </div>
                    `
            },
            "vendor-portal": {
                title: "Vendor Partnership Guide",
                content: `<p class="text-sm text-slate-500 mb-6">Version 1.3 | Last Updated: 1 July 2025</p><p class="mb-6">Welcome, and thank you for partnering with 7.agency. This guide outlines our quality standards and on-site procedures. Your adherence to these guidelines ensures a smooth collaboration and a flawless event for our mutual client.</p><div class="space-y-8"><div><h2 class="text-2xl font-bold text-slate-800 section-title uppercase">Section A: Universal Standards of Partnership</h2><ul class="list-decimal list-outside ml-5 space-y-2"><li><strong>The Client-First Principle:</strong> Our collective goal is to execute the client's vision perfectly. We work as one unified team, led by the 7.agency Project Manager (PM), who is the final authority on-site.</li><li><strong>Professional Appearance:</strong> All team members must arrive in a clean, ironed, and appropriate uniform or attire. If you do not have a company uniform, plain black shirts and black trousers/skirts are required. All clothing must be presentable, and footwear must be clean and closed-toe (unless specified otherwise for beach events).</li><li><strong>Professional Attitude:</strong> We expect a positive, friendly, and solution-oriented attitude at all times. Be proactive, helpful, and focused on delivering the highest quality service.</li><li><strong>On-Site Etiquette:</strong><ul class="list-disc list-outside ml-5 mt-2 space-y-1"><li><strong>Punctuality:</strong> Arrive at the time specified in the rundown. Late arrivals are not acceptable.</li><li><strong>Discretion:</strong> All equipment and personal items must be kept out of sight of clients. Do not eat, smoke, or take personal phone calls in guest areas. Use designated staff areas only.</li><li><strong>Communication:</strong> Your primary point of contact on-site is the assigned 7.agency Project Manager (PM) or Area Manager (AM). Report any issues or questions to them immediately. Do not promise changes or extras to the client directly.</li></ul></li></ul></div><div><h2 class="text-2xl font-bold text-slate-800 section-title uppercase">Section C: Booking & Payment</h2><ul class="list-disc list-outside ml-5 space-y-2"><li><strong>Booking:</strong> All official bookings and changes will be communicated in writing from our \`7agency.bookings@gmail.com\` email address.</li><li><strong>Payment:</strong> All payments are processed via invoice. After the event, please submit an invoice for your services. Our Finance Manager will process the payment, which will be issued on the next business day after the event or upon receipt of the invoice.</li><li><strong>ID Cards:</strong> Please ensure all your on-site staff bring their ID cards for venue security access.</li></ul></div><p class="font-semibold text-center pt-4">We look forward to a successful partnership and creating another beautiful event together.</p></div>`
            },
            "team-hub": {
                title: "Internal Team Hub",
                content: `
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-slate-800 section-title uppercase flex items-center">
                        <svg class="h-6 w-6 mr-3 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z" /></svg>
                        SOP: Project Managers
                    </h2>
                    <div class="space-y-6 text-slate-600 leading-relaxed">
                        <p class="mb-6">This manual is the comprehensive guide to our internal operations. It details your roles, our standard procedures from booking to event completion, and our internal policies. Mastering this document is essential for the successful execution of every event and for your professional growth within the agency.</p>
                        <div class="space-y-8">
                            <div><h3 class="text-xl font-bold mb-4 text-slate-800 uppercase">Section A: Team Roles & Responsibilities</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="bg-slate-50 p-6 rounded-lg border border-slate-200"><h4 class="font-bold text-lg mb-2">1. Project Manager (PM)</h4><p class="text-sm">The PM is the leader of the event, responsible for the entire project lifecycle and holding ultimate authority on-site.</p><p class="font-semibold mt-4 mb-1 text-sm">Responsibilities:</p><ul class="list-disc list-outside ml-5 text-sm space-y-1"><li>Oversee the event from initial booking to final report.</li><li>Ensure all vendor bookings are correct and confirmed.</li><li>Create and manage the event rundown and on-site layout.</li><li>Lead the entire on-site team (internal and vendor).</li><li>Serve as the primary problem-solver for any non-standard situations.</li><li>Ensure all quality standards in this SOP are executed by the team and vendors.</li><li>Manage client communication during the final planning stages and on-site.</li></ul></div><div class="bg-slate-50 p-6 rounded-lg border border-slate-200"><h4 class="font-bold text-lg mb-2">2. Client Manager (CM) / Personal Wedding Butler</h4><p class="text-sm">The CM is dedicated to the couple's personal experience on the wedding day, ensuring they feel supported, relaxed, and happy.</p><p class="font-semibold mt-4 mb-1 text-sm">Responsibilities:</p><ul class="list-disc list-outside ml-5 text-sm space-y-1"><li>Act as the couple’s personal assistant throughout the entire event.</li><li>Manage the couple's personal schedule according to the rundown.</li><li>Brief the couple on processionals for the ceremony and reception.</li><li>Carry the "CM Bag" with essentials (water, tissues, flip-flops, first aid, etc.).</li><li>Act as the Area Manager for Photography and Videography.</li><li>Maintain a calm, positive, and reassuring presence for the couple.</li></ul></div><div class="bg-slate-50 p-6 rounded-lg border border-slate-200"><h4 class="font-bold text-lg mb-2">3. Area Manager (AM)</h4><p class="text-sm">For large events, specific team members are assigned as Area Managers to ensure focused control over key domains.</p><p class="font-semibold mt-4 mb-1 text-sm">Responsibilities:</p><ul class="list-disc list-outside ml-5 text-sm space-y-1"><li>Oversee a specific area (e.g., Catering & Bar, Decorations).</li><li>Act as the direct supervisor for all vendors within their assigned area.</li><li>Ensure vendors adhere to all quality standards, timelines, and rules.</li><li>Report any issues directly to the Project Manager.</li></ul></div></div></div>
                            <div><h3 class="text-xl font-bold mb-4 text-slate-800 uppercase">Section B: The Event Lifecycle: From A to Z</h3><div class="space-y-4 pl-4 border-l-2 border-slate-200"><div><h4 class="font-semibold">Phase 1: Booking & Confirmation</h4><p>Project Assignment: The Sales Manager (SM) will forward the booking details and assign a PM to the project, updating the Wedding Coordination (WC) document. The assigned PM must begin booking all required vendors and services within 48 hours via the official 7agency.bookings@gmail.com email address. Every booking requires a written confirmation from the vendor via email. The PM must diligently update the booking status for each item using the standard color codes: Green (Pre-booked) and Bright Green (Booking Confirmed). The PM reviews all client documents and handles any changes promptly, with a final re-confirmation of all vendors one month before the event.</p></div><div><h4 class="font-semibold">Phase 2: Pre-Event Planning & Coordination</h4><p>This includes rundown creation (1 month prior for big weddings; post-client meeting for small), leading technical meetings and couple rehearsals for large events, and managing event layouts. If a client provides items, the PM must create an itemized list and use a signed receipt.</p></div><div><h4 class="font-semibold">Phase 3: On-Site Execution</h4><p>This details the pre-event team briefing, ensuring the venue is clean and private (50-70m radius), and following the strict client arrival protocol: all setup must be 100% complete, the uniformed team lined up for a welcome, and background music playing. Before the ceremony, the PM or CM will conduct a short, clear briefing with the couple, explaining the procession order.</p></div></div></div>
                            <div><h3 class="text-xl font-bold mb-4 text-slate-800 uppercase">Section C: Internal Policies & Professional Standards</h3><div class="space-y-4 pl-4 border-l-2 border-slate-200"><div><h4 class="font-semibold">1. Uniform & Appearance Policy</h4><p>Specifies dress codes for big events (with reception) and small events (ceremony only), with different attire for setup vs. the main event. For big events, the PM will direct the uniform from 5 options (e.g., Black shirt & black pants). General rules on cleanliness, shoes, and minimal accessories apply to all.</p></div><div><h4 class="font-semibold">2. Vendor Management & Vetting</h4><p>Outlines the two-track process: proposing new "Permanent" (approved) vendors to the Head Manager for vetting, and clarifies that the PM takes full personal responsibility for the quality, pricing, and SOP adherence of any "One-Time" vendors used for an event.</p></div></div></div>
                            <div><h3 class="text-xl font-bold mb-4 text-slate-800 uppercase">Appendix A: Abbreviations</h3><p class="pl-4"><strong>SOP:</strong> Standard Operating Procedure, <strong>PM:</strong> Project Manager, <strong>CM:</strong> Client Manager, <strong>AM:</strong> Area Manager, <strong>HM:</strong> Head Manager, <strong>DM:</strong> Development Manager, <strong>QM:</strong> Quality Control Manager, <strong>WC:</strong> Wedding Coordination (document/file), <strong>WR:</strong> Wedding Report (document/file)</p></div>
                        </div>
                    </div>
                </div>
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-slate-800 section-title uppercase flex items-center">
                        <svg class="h-6 w-6 mr-3 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.59 14.37a6 6 0 01-5.84 7.38v-4.82m5.84-2.56a14.96 14.96 0 00-5.84-2.56m0 0a14.956 14.956 0 01-5.84-2.56m5.84 2.56v4.82" /></svg>
                        SOP: Sales Managers
                    </h2>
                    <div class="p-6 bg-slate-50 rounded-md text-center"><img src="https://placehold.co/100x100/e2e8f0/94a3b8?text=Coming+Soon" alt="Coming Soon" class="h-16 w-auto mx-auto mb-4 opacity-50"><p class="italic text-slate-500">Content for the Sales Manager SOP will be added here in a future update. Please provide the finalized text to be inserted here.</p></div>
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 section-title uppercase flex items-center">
                        <svg class="h-6 w-6 mr-3 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" /></svg>
                        SOP: Finance
                    </h2>
                    <div class="p-6 bg-slate-50 rounded-md text-center"><img src="https://placehold.co/100x100/e2e8f0/94a3b8?text=Coming+Soon" alt="Coming Soon" class="h-16 w-auto mx-auto mb-4 opacity-50"><p class="italic text-slate-500">Content for the Finance SOP will be added here in a future update. Please provide the finalized text to be inserted here.</p></div>
                </div>`
            }
        }
    },
    id: { // BAHASA INDONESIA - Placeholder text
        nav: {
            title: "SOP 7.agency",
            langToggle: "English / Bahasa",
            home: "Beranda",
            corePrinciples: "Prinsip Inti",
            vendorPortal: "Portal Vendor",
            teamHub: "Pusat Tim",
            salesSOP: "SOP: Manajer Penjualan",
            financeSOP: "SOP: Keuangan",
            pmSOP: "SOP: Manajer Proyek",
            photo: "Fotografi",
            video: "Videografi",
            decor: "Dekorasi & Furnitur",
            catering: "Katering & Bar",
            entertainment: "Hiburan",
            makeup: "Rias Wajah & Rambut",
            transport: "Transportasi",
        },
        home: {
            title: "Pusat Pengetahuan",
            cards: {
                core: { title: "Prinsip Inti", desc: "Fondasi pekerjaan kami. Wajib untuk semua anggota tim dan vendor.", page: "core-principles" },
                vendors: { title: "Portal Vendor", desc: "Standar kualitas dan prosedur khusus layanan untuk mitra kami.", page: "vendor-portal" },
                team: { title: "Pusat Tim", desc: "Manual operasional internal dan alur kerja terperinci untuk tim 7.agency.", page: "team-hub" },
            }
        },
        login: {
            title: "Login Pusat Tim",
            passwordLabel: "Kata Sandi",
            error: "Kata sandi salah. Silakan coba lagi.",
            button: "Masuk"
        },
        pages: {
            // ... (Bahasa translations for all other pages would go here) ...
            "team-hub": {
                title: "Pusat Tim Internal",
                content: "[Konten LENGKAP Bahasa Indonesia untuk SOP Internal akan dimasukkan di sini.]"
            }
        }
    }
};

// --- APPLICATION LOGIC ---
document.addEventListener('DOMContentLoaded', () => {
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('main-content');
    const openSidebarBtn = document.getElementById('open-sidebar-btn');
    const closeSidebarBtn = document.getElementById('close-sidebar-btn');
    const mobileOverlay = document.getElementById('mobile-overlay');
    const langSwitcher = document.getElementById('lang-switcher');
    const searchBar = document.getElementById('search-bar');
    const sidebarNav = document.getElementById('sidebar-nav');

    let currentLang = localStorage.getItem('sopLang') || 'en';
    let teamHubUnlocked = sessionStorage.getItem('teamHubUnlocked') === 'true';

    const sidebarStructure = [
        { key: 'home', icon: 'M2.25 12l8.954-8.955a1.125 1.125 0 011.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5' },
        { key: 'corePrinciples', icon: 'M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25' },
        { 
            key: 'vendorPortal', 
            icon: 'M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-3.741 2.953a9.094 9.094 0 01-3.741-.479 3 3 0 01-4.682-2.72m3.741 2.953a9.094 9.094 0 00-3.741.479 3 3 0 004.682 2.72m3.741-2.953l-3.741.479m0 0a9.094 9.094 0 01-3.741.479m3.741-.479a9.094 9.094 0 003.741.479m-12.022-7.18a3 3 0 013.741 0m-3.741 0a3 3 0 00-3.741 0m3.741 0a9.094 9.094 0 013.741 0m-3.741 0a9.094 9.094 0 00-3.741 0m12.022 0a9.094 9.094 0 00-3.741 0m3.741 0a9.094 9.094 0 013.741 0m0 0a3 3 0 01-3.741 0m0 0a3 3 0 00-3.741 0',
            children: [
                { key: 'photo' },
                { key: 'video' },
                { key: 'decor' },
                { key: 'catering' },
                { key: 'entertainment' },
                { key: 'makeup' },
                { key: 'transport' },
            ]
        },
        { 
            key: 'teamHub', 
            icon: 'M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-3.741 2.953a9.094 9.094 0 01-3.741-.479 3 3 0 01-4.682-2.72m3.741 2.953a9.094 9.094 0 00-3.741.479 3 3 0 004.682 2.72m3.741-2.953l-3.741.479m0 0a9.094 9.094 0 01-3.741.479m3.741-.479a9.094 9.094 0 003.741.479m-12.022-7.18a3 3 0 013.741 0m-3.741 0a3 3 0 00-3.741 0m3.741 0a9.094 9.094 0 013.741 0m-3.741 0a9.094 9.094 0 00-3.741 0m12.022 0a9.094 9.094 0 00-3.741 0m3.741 0a9.094 9.094 0 013.741 0m0 0a3 3 0 01-3.741 0m0 0a3 3 0 00-3.741 0',
            children: [
                { key: 'pmSOP', page: 'team-hub' },
                { key: 'salesSOP', page: 'team-hub' },
                { key: 'financeSOP', page: 'team-hub' },
            ]
        },
    ];

    function buildSidebar() {
        sidebarNav.innerHTML = '';
        const ul = document.createElement('ul');
        ul.className = 'space-y-1';
        
        sidebarStructure.forEach(item => {
            const li = document.createElement('li');
            const pageId = item.page || item.key;
            const link = document.createElement('a');
            link.href = `#${pageId}`;
            link.className = 'sidebar-link flex items-center p-2 text-base font-normal text-gray-900 rounded-lg hover:bg-gray-100 transition duration-150 ease-in-out';
            link.dataset.page = pageId;
            link.innerHTML = `<svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="${item.icon}" /></svg><span class="ml-3" data-lang-key="nav.${item.key}"></span>`;
            
            if (item.children) {
                link.classList.add('has-children');
                const childrenUl = document.createElement('ul');
                childrenUl.className = 'pl-6 mt-1 space-y-1 hidden';
                item.children.forEach(child => {
                    const childLi = document.createElement('li');
                    const childPageId = child.page || child.key;
                    childLi.innerHTML = `<a href="#${childPageId}" class="sidebar-link flex items-center p-2 text-sm font-normal text-gray-700 rounded-lg hover:bg-gray-100" data-page="${childPageId}" data-lang-key="nav.${child.key}"></a>`;
                    childrenUl.appendChild(childLi);
                });
                li.appendChild(link);
                li.appendChild(childrenUl);
            } else {
                li.appendChild(link);
            }
            ul.appendChild(li);
        });
        sidebarNav.appendChild(ul);
        addSidebarEventListeners();
    }

    function addSidebarEventListeners() {
        sidebarNav.querySelectorAll('.sidebar-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                if (link.classList.contains('has-children')) {
                    link.nextElementSibling.classList.toggle('hidden');
                } else {
                    navigateTo(link.getAttribute('href'));
                    if (window.innerWidth < 768) { // if mobile
                        toggleSidebar(false);
                    }
                }
            });
        });
    }

    function navigateTo(hash, fromHistory = false) {
        let pageId = hash.substring(1);
        
        if (pageId === 'team-hub' && !teamHubUnlocked) pageId = 'login';
        if (pageId === 'login' && teamHubUnlocked) pageId = 'team-hub';
        
        mainContent.innerHTML = '';
        let template, contentTitle, contentBody;

        if (pageId === 'home') {
            template = document.getElementById('template-home');
        } else if (pageId === 'login') {
            template = document.getElementById('template-login');
        } else {
            template = document.getElementById('template-content-page');
            contentTitle = getTranslation(`pages.${pageId}.title`);
            contentBody = getTranslation(`pages.${pageId}.content`);
        }
        
        if (template) {
            const clone = template.content.cloneNode(true);
            if (pageId !== 'home' && pageId !== 'login') {
                clone.getElementById('content-title').innerHTML = contentTitle;
                clone.getElementById('content-body').innerHTML = contentBody;
            }
            mainContent.appendChild(clone);
            
            if (!fromHistory) window.location.hash = pageId;
            
            updateActiveNavLink(pageId);
            updateLanguage();
            
            if (pageId === 'login') setupLoginForm();
        }
    }

    function updateActiveNavLink(pageId) {
        sidebarNav.querySelectorAll('.sidebar-link').forEach(link => {
            const linkPage = link.dataset.page;
            if (linkPage === pageId || (pageId === 'login' && linkPage === 'team-hub') || (pageId === 'team-hub' && linkPage === 'team-hub')) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    }

    function switchLanguage() {
        currentLang = currentLang === 'en' ? 'id' : 'en';
        localStorage.setItem('sopLang', currentLang);
        updateLanguage();
    }

    function updateLanguage() {
        buildSidebar(); // Rebuild sidebar to get new text
        const currentPageId = window.location.hash.substring(1) || 'home';
        navigateTo(currentPageId, true); // Re-render current page with new language
        
        document.querySelectorAll('[data-lang-key]').forEach(el => {
            const key = el.dataset.langKey;
            const translation = getTranslation(key);
            if (translation) el.innerHTML = translation;
        });
        
        const flagEn = document.getElementById('flag-en');
        const flagId = document.getElementById('flag-id');
        if(flagEn && flagId){
            flagEn.classList.toggle('hidden', currentLang !== 'en');
            flagId.classList.toggle('hidden', currentLang !== 'id');
        }
        
        if (currentPageId === 'home') buildHomeCards();
    }

    function getTranslation(key) {
        const keys = key.split('.');
        let result = contentData[currentLang];
        for (const k of keys) {
            result = result ? result[k] : undefined;
            if (typeof result === 'undefined') return null;
        }
        return result;
    }
    
    function buildHomeCards() {
        const container = document.getElementById('home-cards');
        if (!container) return;
        container.innerHTML = '';
        const cards = getTranslation('home.cards');
        for (const key in cards) {
            const cardData = cards[key];
            const card = document.createElement('a');
            card.href = `#${cardData.page}`;
            card.className = 'block p-6 bg-white rounded-lg shadow hover:shadow-lg transition-shadow duration-300';
            card.innerHTML = `
                <h3 class="font-bold text-lg mb-2 text-indigo-600">${cardData.title}</h3>
                <p class="text-slate-500">${cardData.desc}</p>
            `;
            card.addEventListener('click', (e) => {
                e.preventDefault();
                navigateTo(card.getAttribute('href'));
            });
            container.appendChild(card);
        }
    }

    function setupLoginForm() {
        const form = document.getElementById('login-form');
        if (form) {
            const teamHubPassword = "7A_SOP_2025"; 
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                const passwordInput = document.getElementById('password');
                const errorMsg = document.getElementById('login-error');
                if (passwordInput.value === teamHubPassword) {
                    teamHubUnlocked = true;
                    sessionStorage.setItem('teamHubUnlocked', 'true');
                    navigateTo('team-hub');
                } else {
                    errorMsg.classList.remove('hidden');
                    passwordInput.value = '';
                }
            });
        }
    }

    function toggleSidebar(show) {
        if (show) {
            sidebar.classList.remove('-translate-x-full');
            mobileOverlay.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
        } else {
            sidebar.classList.add('-translate-x-full');
            mobileOverlay.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        }
    }
    
    openSidebarBtn.addEventListener('click', () => toggleSidebar(true));
    closeSidebarBtn.addEventListener('click', () => toggleSidebar(false));
    mobileOverlay.addEventListener('click', () => toggleSidebar(false));

    searchBar.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        sidebarNav.querySelectorAll('li').forEach(li => {
            const link = li.querySelector('a');
            const text = link.textContent.toLowerCase();
            if (text.includes(searchTerm)) {
                li.style.display = '';
            } else {
                li.style.display = 'none';
            }
        });
    });

    // --- Initial Load ---
    const initialPage = window.location.hash ? window.location.hash.substring(1) : 'home';
    navigateTo(initialPage, true);
});
</script>

</body>
</html>
